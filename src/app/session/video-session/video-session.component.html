<div *ngIf="stream$ | async as stream" class="flex flex-align-top">
  <section class="section video">
    <div class="section--inner container">
      <app-video-player
        [videoId]="stream.video?.id"
        [startSeconds]="stream.seek.startSeconds"
        [endSeconds]="stream.seek.endSeconds"
      ></app-video-player>
      <div *ngIf="stream.video?.meta?.description; else ytDescription">
        <markdown [data]="stream.video?.meta?.description"> </markdown>
      </div>
      <hr />
      <a
        *ngIf="stream.video?.meta?.videoFile"
        [attr.href]="
          'https://github.com/ngMorocco/ngx-darija/edit/feat/algolia-search/content/videos/' +
          stream.video?.meta?.videoFile
        "
        target="_blank"
        >Edit</a
      >
      <ng-template #ytDescription>
        <p [innerText]="stream.video?.description"></p>
      </ng-template>
    </div>
  </section>
  <div class="sidebar sidebar--right hide-for-small">
    <ng-container *ngIf="stream.video?.meta?.chaptersFile">
      <h3>Chapters</h3>
      <a
        routerLink="."
        [queryParams]="{ start: 605, end: 900 }"
        *ngFor="let chapter of stream.video?.meta?.chapters"
      >
        {{ chapter.title }}
      </a>
      <hr />
      <a
        [attr.href]="
          'https://github.com/ngMorocco/ngx-darija/edit/feat/algolia-search/content/videos/' +
          stream.video?.meta?.chaptersFile
        "
        target="_blank"
      >
        Edit
      </a>
    </ng-container>
    <!-- <h3>Content</h3>
    <a href="./#description" class="submenu__link"> Description </a> -->
  </div>
</div>
